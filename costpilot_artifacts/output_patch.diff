--- a/infrastructure/terraform/pr-change/main.tf
+++ b/infrastructure/terraform/pr-change/main.tf
@@ -123,7 +123,7 @@ data "aws_ami" "amazon_linux_2" {
 resource "aws_launch_template" "main" {
   name_prefix   = "costpilot-demo-"
   image_id      = data.aws_ami.amazon_linux_2.id
-  instance_type = "t3.xlarge"
+  instance_type = "t3.large"
 
   user_data = base64encode(<<-EOF
     #!/bin/bash
@@ -135,7 +135,7 @@ resource "aws_launch_template" "main" {
 
   block_device_mappings {
     device_name = "/dev/xvda"
     ebs {
-      volume_size           = 200
+      volume_size           = 50
       volume_type           = "gp3"
       delete_on_termination = true
       encrypted             = true
@@ -242,7 +242,7 @@ resource "aws_s3_bucket_versioning" "main" {
 
 resource "aws_cloudwatch_log_group" "application" {
   name              = "/aws/costpilot-demo/application"
-  retention_in_days = 0
+  retention_in_days = 30
 
   tags = {
     Name        = "costpilot-demo-logs"
@@ -250,6 +250,46 @@ resource "aws_cloudwatch_log_group" "application" {
   }
 }
 
+# S3 Lifecycle Configuration (restored)
+resource "aws_s3_bucket_lifecycle_configuration" "main" {
+  bucket = aws_s3_bucket.main.id
+
+  rule {
+    id     = "transition-old-objects"
+    status = "Enabled"
+
+    transition {
+      days          = 90
+      storage_class = "GLACIER_IR"
+    }
+
+    transition {
+      days          = 180
+      storage_class = "GLACIER"
+    }
+
+    expiration {
+      days = 365
+    }
+  }
+
+  rule {
+    id     = "cleanup-incomplete-uploads"
+    status = "Enabled"
+
+    abort_incomplete_multipart_upload {
+      days_after_initiation = 7
+    }
+  }
+
+  rule {
+    id     = "expire-old-versions"
+    status = "Enabled"
+
+    noncurrent_version_expiration {
+      noncurrent_days = 90
+    }
+  }
+}
+
 # Outputs
 output "vpc_id" {
   description = "ID of the VPC"
@@ -303,7 +347,7 @@ output "cloudwatch_log_group_name" {
 }
 
 output "log_retention_days" {
-  value       = 0
+  value       = 30
   description = "CloudWatch log retention period in days"
 }
 
@@ -313,7 +357,7 @@ output "instance_type" {
 }
 
 output "ebs_volume_size" {
-  value       = 200
+  value       = 50
   description = "EBS root volume size in GB"
-}
+}
