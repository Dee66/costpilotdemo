<!DOCTYPE html>
<!-- Trigger rebuild 2 -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CostPilot Interactive Demo - See Cost Regressions Caught in Real-Time</title>
    <meta name="description" content="Interactive demonstration of CostPilot catching a $335/month AWS cost regression before deployment">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="script.js"></script>
    <script src="animations.js"></script>
    <script src="findingsManager.js"></script>
    <script src="roiCalculator.js"></script>
</head>
<body>
    <div class="hero">
        <h1>üí∏ CostPilot Caught This Before Deployment</h1>
        <p>Watch how one innocent infrastructure change could have cost <strong>$2,010 over 6 months</strong></p>
        
        <div class="cost-delta">
            <div class="cost-box">
                <div class="cost-label">Before (Baseline)</div>
                <div class="cost-value" id="beforeCost">$52</div>
                <div class="cost-label">per month</div>
            </div>
            
            <div class="cost-arrow">‚Üí</div>
            
            <div class="cost-box">
                <div class="cost-label">After (PR #42)</div>
                <div class="cost-value" id="afterCost">$388</div>
                <div class="cost-label">per month</div>
            </div>
        </div>
        
        <div class="savings-badge">
            üö® +$335.46/month (+639%)
        </div>
    </div>

    <!-- Terminal Demo Section -->
    <div class="terminal-demo">
        <div class="container">
            <h2>üöÄ Try CostPilot in Action</h2>
            <p>See how easy it is to catch cost regressions before deployment</p>
            
            <div class="terminal-window">
                <div class="terminal-header">
                    <span class="terminal-title">Terminal - costpilot scan</span>
                    <div class="terminal-controls">
                        <div class="control red"></div>
                        <div class="control yellow"></div>
                        <div class="control green"></div>
                    </div>
                </div>
                <div class="terminal-body">
                    <div class="prompt">$ </div><span class="command typing">costpilot scan main.tf</span>
                    <div class="output" id="demoOutput">
                        <!-- Output will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ROI Calculator Section -->
    <div class="roi-calculator-section" id="roi-calculator">
        <div class="container">
            <div class="roi-calculator">
                <h2>üí∞ Calculate Your CostPilot ROI</h2>
                <p class="roi-subtitle">See how much CostPilot could save your organization with real-time cost regression detection</p>
                <p class="slider-hint">üëÜ Drag the sliders below to adjust your inputs and see instant ROI calculations</p>
                
                <div class="calculator-grid">
                    <div class="slider-group">
                        <label for="monthlySpend">Monthly AWS Spend</label>
                        <div class="slider-value" id="monthlySpendValue">$2,500</div>
                        <div class="slider-container spend-slider">
                            <div class="tick-marks"></div>
                            <input type="range" id="monthlySpend" min="0" max="20000" value="2500" step="250">
                        </div>
                    </div>
                    
                    <div class="slider-group">
                        <label for="wastePercent">Estimated Waste %</label>
                        <div class="slider-value" id="wastePercentValue">15%</div>
                        <div class="slider-container waste-slider">
                            <div class="tick-marks"></div>
                            <input type="range" id="wastePercent" min="5" max="50" value="15" step="1">
                        </div>
                    </div>
                    
                    <div class="slider-group">
                        <label for="detectionRate">CostPilot Detection Rate</label>
                        <div class="slider-value" id="detectionRateValue">95%</div>
                        <div class="slider-container detection-slider">
                            <div class="tick-marks"></div>
                            <input type="range" id="detectionRate" min="80" max="99" value="95" step="1">
                        </div>
                    </div>
                </div>
                
                <div class="roi-results">
                    <div class="result-card">
                        <div class="result-label">Annual Savings</div>
                        <div class="result-value" id="annualSavings">$57,000</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">Net Benefit (after $348/year cost)</div>
                        <div class="result-value" id="netBenefit">$55,812</div>
                    </div>
                    <div class="result-card">
                        <div class="result-label">ROI</div>
                        <div class="result-value" id="roiValue">4,600%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="section">
            <h2>üìä Key Metrics</h2>
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-value">4</div>
                    <div class="stat-label">Cost-Impacting Findings</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2</div>
                    <div class="stat-label">High Severity Issues</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">&lt; 5 min</div>
                    <div class="stat-label">Detection Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Prevented Before Deploy</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üîç Detected Cost Regressions</h2>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                Click any finding to see detailed analysis and auto-fix suggestions
            </p>
            
            <div class="findings-grid" id="findingsContainer">
                <!-- Findings will be loaded here -->
            </div>
        </div>

        <div class="section">
            <h2>üó∫Ô∏è Infrastructure Impact Map</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                See how changes cascade through your infrastructure
            </p>
            <div class="trend-chart" id="mappingChart">
                <div class="mermaid" style="background: white; padding: 1rem; border-radius: 8px;">
graph TD
    ALB[Application Load Balancer]
    TG[Target Group]
    ASG[Auto Scaling Group]
    EC2[EC2 Instances - t3.xlarge]
    EBS[EBS Volumes - 200GB]
    S3[S3 Bucket - No Lifecycle]
    CW[CloudWatch Logs - Infinite]
    
    ALB --> TG
    TG --> ASG
    ASG --> EC2
    EC2 --> EBS
    EC2 --> CW
    ASG --> S3
    
    style EC2 fill:#ff6b6b,stroke:#c92a2a,color:#fff
    style EBS fill:#ffd93d,stroke:#f59f00,color:#000
    style S3 fill:#ff6b6b,stroke:#c92a2a,color:#fff
    style CW fill:#ffd93d,stroke:#f59f00,color:#000
    
    classDef highCost fill:#ff6b6b,stroke:#c92a2a,color:#fff
    classDef mediumCost fill:#ffd93d,stroke:#f59f00,color:#000
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìä Cost Trend Analysis</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                This change would breach your SLO threshold of $500/month
            </p>
            <div class="trend-chart" id="trendChart" onclick="this.classList.toggle('zoomed')">
                <div class="trend-tooltip" id="trendTooltip"></div>
                <img src="./visual_assets/trend_v1.svg" alt="Cost Trend Chart" style="width: 100%; height: 100%; object-fit: contain;" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                     onmousemove="showTrendTooltip(event)" onmouseout="hideTrendTooltip()">
                <div style="display: none; text-align: center; padding: 3rem; color: var(--text-muted);">
                    Trend chart will be displayed here once visual assets are captured
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üîß Auto-Fix Suggestions</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                CostPilot provides exact HCL patches to revert cost regressions
            </p>
            
            <div style="background: var(--surface); border-radius: 8px; padding: 1.5rem; margin: 1rem 0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3 style="margin: 0;">Recommended Fixes</h3>
                    <label class="btn btn-primary" style="padding: 0.5rem 1rem; font-size: 0.875rem;">
                        üìã Copy Patch
                    </label>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                    <div>
                        <h4 style="color: var(--danger); margin-bottom: 0.5rem;">‚ùå Current (Expensive)</h4>
                        <pre style="background: #fee; padding: 1rem; border-radius: 6px; overflow-x: auto; font-size: 0.875rem; margin: 0;"><code>instance_type = "t3.xlarge"
volume_size = 200
retention_in_days = 0
# lifecycle missing</code></pre>
                    </div>
                    <div>
                        <h4 style="color: var(--primary); margin-bottom: 0.5rem;">‚úÖ Suggested (Optimized)</h4>
                        <pre style="background: #efe; padding: 1rem; border-radius: 6px; overflow-x: auto; font-size: 0.875rem; margin: 0;"><code>instance_type = "t3.large"
volume_size = 50
retention_in_days = 30
# lifecycle: enabled</code></pre>
                    </div>
                </div>
                
                <div style="background: var(--bg); padding: 1rem; border-radius: 6px;">
                    <strong>üí∞ Savings Calculator</strong>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 0.75rem; text-align: center;">
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">$335</div>
                            <div style="font-size: 0.75rem; color: var(--text-muted);">Monthly Savings</div>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">$2,010</div>
                            <div style="font-size: 0.75rem; color: var(--text-muted);">6-Month Savings</div>
                        </div>
                        <div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">$4,020</div>
                            <div style="font-size: 0.75rem; color: var(--text-muted);">Annual Savings</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="cta-section">
            <h2>üöÄ Try CostPilot on Your Infrastructure</h2>
            <p style="opacity: 0.9; margin-bottom: 2rem;">
                This demo is fully open source. Clone it, explore the code, and see exactly how CostPilot works.
            </p>
            
            <div class="cta-buttons">
                <a href="https://github.com/Dee66/costpilotdemo" class="btn btn-primary" target="_blank">
                    üì¶ Clone This Demo
                </a>
                <a href="#roi-calculator" class="btn btn-secondary">
                    üí∞ Calculate Your ROI
                </a>
            </div>
        </div>
    </div>
</body>
</html>